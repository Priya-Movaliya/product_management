<div id="add-producr-container">
  <h2 mat-dialog-title class="fs-22">{{dialogData.editFlag ? 'Upadate' : 'Add'}} Product</h2>
  <mat-dialog-content class="mat-typography">
    <form [formGroup]="productForm">
      <div class="mt-4" fxLayout="row" fxLayoutGap="10px">
        
        <div fxLayout="column" class="rounded-md mat-elevation-z4">
          <div class="w-44 h-44" fxLayout="column" fxLayoutAlign="center center">
            <div fxLayout="column" fxLayoutAlign="center center" (click)="imageUploadRef.click()" class="image-upload-container cursor-pointer" matTooltip="Upload Image" *ngIf="!uploadedImage">
              <mat-icon color="primary" class="text-3xl w-auto h-auto">add_photo_alternate</mat-icon>
              <span> Upload </span>
            </div>
            <img *ngIf="uploadedImage" class="w-44 h-44 rounded-t cursor-pointer" matTooltip="Update Image" [src]="uploadedImage" (click)="imageUploadRef.click()">
            <input hidden type="file" #imageUploadRef (change)="onFileSelected($event)" accept="image/*">
          </div>
          <div *ngIf="uploadedImage" fxLayout="row" fxLayoutAlign="space-between center" class="px-2">
            <mat-icon color="primary" class="cursor-pointer" matTooltip="View Image" (click)="previewImage()">visibility</mat-icon>
            <mat-icon color="primary" class="cursor-pointer" matTooltip="Clear Image" (click)="uploadedImage  = ''">close</mat-icon>
          </div>
        </div>
  
        <div fxLayout="column" class="pt-3" fxLayoutGap="5px">
          <mat-form-field appearance="outline" class="mat-input width-200">
            <mat-label>Product Name</mat-label>
            <input type="text" matInput placeholder="Name" formControlName="name">
            <mat-error *ngIf="getFormControl('name')?.hasError('required')">Product Name is <strong>required</strong></mat-error>
            <mat-error *ngIf="getFormControl('name')?.hasError('maxLength')">Maximum limit exceeded</mat-error>
          </mat-form-field>
    
          <mat-form-field appearance="outline" class="mat-input width-200">
            <mat-label>Price</mat-label>
            <input type="number" matInput placeholder="Price" formControlName="price">
            <mat-error *ngIf="getFormControl('price')?.hasError('required')">Price Name is <strong>required</strong></mat-error>
            <mat-error *ngIf="getFormControl('price')?.hasError('max')">Maximum limit exceeded</mat-error>
          </mat-form-field>
    
          <mat-form-field appearance="outline" class="mt-1">
            <mat-label>Description</mat-label>
            <textarea type="text" class="textarea-custom-height" matInput placeholder="Description" formControlName="description"></textarea>
          </mat-form-field>
        </div>
  
      </div>
    </form>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-raised-button class="mb-1" (click)="close(false)">Cancel</button>
    <button mat-raised-button  class="mb-1" color="primary" cdkFocusInitial type="submit" (click)="onProductSubmit()">Save</button>
  </mat-dialog-actions>
</div>